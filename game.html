<!DOCTYPE html>
<html>
    
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
$(document).ready(function(){

var deck = ["Ad","2d","3d","4d","5d","6d","7d","8d","9d","10d","Jd","Qd","Kd",
            "As","2s","3s","4s","5s","6s","7s","8s","9s","10s","Js","Qs","Ks",
            "Ac","2c","3c","4c","5c","6c","7c","8c","9c","10c","Jc","Qc","Kc",
            "Ah","2h","3h","4h","5h","6h","7h","8h","9h","10h","Jh","Qh","Kh"];
var shuffledDeck = [];
var playerAmount = 0;
var playersPick =[];
var player;
var a = 0;
var b = 52;
var ready = false;
var counter = 0;
    for (i = 0; i < 52; i++)
    {
        var x = Math.floor((Math.random() * b));
        shuffledDeck[i] = deck [x];      
        deck.splice (x , 1);
        b --;
    }

        function checkWin(num)
        {
            if (a == 51)
            {
                if(playersPick.indexOf(num) > -1)
                {
                     $("#picks").text("player " + (playersPick.indexOf(num) + 1) + " has won!!!")
                }
                else
                {
                     $("#picks").text("player " + player + " has won!!!")
                }
            }
            else
            {
           if (playersPick.indexOf(num) > -1)
           {
               $("#picks").text("Player " + (playersPick.indexOf(num) + 1) + " has matched, lets see if he won:");
               a = 51;
               player = (playersPick.indexOf(num) + 1);
               $("#btn2").text("1 last card!");
           }
        }
        }

    $("#btn2").hide();

    $("#card").click(function(){
        if(a != 51)
        {
        a++;
        }
        if (ready)
        {
        $("#card").attr("src",shuffledDeck[a] + ".png");
        checkWin(shuffledDeck[a]);

        }
    })
    $("#amPlayers").text("Please chose amount of players:");
    $("#btn1").click(function(){
        playerAmount = $("#in1").val();
        $("#amPlayers").text("player 1 pick a card");
        $("#btn2").show();
        $("#btn1").hide();
    })

    $("#btn2").click(function(){
        playersPick[counter] = $("#in1").val();
        counter ++;
        playerAmount --;
            if (playerAmount == 0)
                {
                   $("#btn2").hide();
                   $("#in1").hide();
                   $("#amPlayers").hide(); 
                   ready = true;
                }
                    $("#amPlayers").text("player " + (counter + 1) + " pick a card");
                    $("#bla").after("<img id = " + counter + ">");
                    $("#" + counter).before("<h3> player " + counter + ": </h3>");
                    $("#" + counter).attr("src",playersPick[counter-1] + ".png");
                    $("#" + counter).attr("width","40px");
                    $("#" + counter).attr("height","60px");
                    $("#" + counter).attr("src",playersPick[counter-1] + ".png");
    })
});
</script>
<img id = "card" src = "Back_of_deck.jpg" width="200px" height="300px">
<img id = "bla">
</br>
<p></p>
<h1 id = "amPlayers"></h1>
<h1 id = "picks"></h1>
<input id = "in1">
<button id = "btn1" >O.K</button>
<button id = "btn2" >O.K</button>
</head>
<body bgcolor = "green">

</body>
</html>
